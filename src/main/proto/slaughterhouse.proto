syntax = "proto3";
option java_multiple_files = true;

package dk.via.slaughterhouse;

message Animal {
  string registrationId = 1;
  double weight = 2;
}

message Product {
  string productId = 1;
  repeated Animal animals = 2;
}

message EmptyMessage {}

message AnimalId {
  string registrationId = 1;
}

message ProductId {
  string productId = 1;
}

message AnimalListResponse {
  repeated Animal animals = 1;
}

message ProductListResponse {
  repeated Product products = 1;
}

service SlaughterhouseService {
  rpc registerAnimal(Animal) returns (Animal);
  rpc getAnimalsInProduct(ProductId) returns (AnimalListResponse);
  rpc getProductsByAnimal(AnimalId) returns (ProductListResponse);
}
